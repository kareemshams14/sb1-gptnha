version: 1
frontend:
  phases:
    preBuild:
      commands:
        # Clean and install dependencies
        - npm ci
    build:
      commands:
        # Build and export the Next.js app
        - npm run build
        - npm run export
  artifacts:
    # Specify the directory containing the static files generated by `next export`
    baseDirectory: out
    files:
      - '**/*'
  cache:
    # Cache node_modules for faster builds
    paths:
      - node_modules/**/*
